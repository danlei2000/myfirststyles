<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>我的</title>
  <link rel="stylesheet" href="css/reset.css" />
  <link rel="stylesheet" href="css/index.css" />
</head>

<body style="height: 1000px">
  <!--包裹器   整个页面的容器-->
  <div class="wrap">
    <!--窗口侧边栏-->
    <div class="toolBar toolWrap">
      <!--内容容器-->
      <div class="content"></div>
      <!--面包屑-->
      <div class="but list"></div>
      <!--中间列表-->
      <ul class="toolList">
        <li>
          <i class="tabIcon vip"></i>
          <em>尚品汇员</em>
        </li>
        <li>
          <i class="tabIcon cart"></i>
          <em>购物车</em>
        </li>
        <li>
          <i class="tabIcon follow"></i>
          <em>我的关注</em>
        </li>
        <li>
          <i class="tabIcon history"></i>
          <em>历史记录</em>
        </li>
        <li>
          <i class="tabIcon message"></i>
          <em>消息</em>
        </li>
        <li>
          <i class="tabIcon qus"></i>
          <em>咨询</em>
        </li>
      </ul>
      <!--回到顶部-->
      <div class="back">
        <i class="tabIcon"></i>
        <em></em>
      </div>
    </div>
    <!-- 头部区域 -->
    <header class="header">
      <!--头部第一行-->
      <div class="top">
        <div class="container">
          <!--登录-->
          <div class="login">
            <p>尚品汇欢迎您！</p>
            <p>
              <span>请</span>
              <a href="###">登录</a>
              <a href="###" class="register">免费注册</a>
            </p>
          </div>
          <!--头部导航-->
          <div class="headerNav">
            <a href="###">我的订单</a>
            <a href="###">我的购物车</a>
            <a href="###">我的尚品汇</a>
            <a href="###">尚品汇会员</a>
            <a href="###">企业采购</a>
            <a href="###">关注尚品汇</a>
            <a href="###">合作招商</a>
            <a href="###">商家后台</a>
          </div>
        </div>
      </div>
      <!--头部第二行-->
      <div class="bottom">
        <h1 class="logoArea">
          <a href="###">
            <img src="img/Logo.png" alt="尚品汇" />
          </a>
        </h1>
        <div class="searchArea">
          <form action="">
            <input type="text" />
            <button>搜索</button>
          </form>
        </div>
      </div>
    </header>
    <!--商品导航分类-->
    <div class="typeNav">
      <div class="container">
        <h2 class="all">全部商品分类</h2>
        <nav>
          <a href="###">服装城</a>
          <a href="###">美妆馆</a>
          <a href="###">尚品汇超市</a>
          <a href="###">全球购</a>
          <a href="###">闪购</a>
          <a href="###">团购</a>
          <a href="###">有趣</a>
          <a href="###">秒杀</a>
        </nav>
      </div>
    </div>
    <!--商品主要内容区域-->
    <section class="con">
      <!--路径导航（面包屑导航）-->
      <div class="conPoin">
        <!-- <a href="###">手机、数码、通讯</a>
          <a href="###">手机</a>
          <a href="###">Apple苹果</a>
          <a>iphone 6S系类</a> -->
      </div>
      <!--主要内容区域-->
      <div class="mainCon">
        <!--左侧放大镜-->
        <div class="previewWrap">
          <!--放大镜效果-->
          <div class="preview">
            <!--小图容器-->
            <div class="zoom">
              <!-- <img src="img/s1.png" alt="" /> -->
              <!-- <div class="mask"></div> -->
            </div>
            <!--大图容器-->
            <!-- <div class="bigBox">
                <img src="img/b1.png" alt="" />
              </div> -->
          </div>
          <!--缩略图效果-->
          <div class="specScroll">
            <a class="prev">&lt;</a>
            <div class="itemCon">
              <ul class="list">
                <!-- <li><img src="img/s1.png" alt="" /></li>
                  <li><img src="img/s2.png" alt="" /></li>
                  <li><img src="img/s3.png" alt="" /></li>
                  <li><img src="img/s1.png" alt="" /></li>
                  <li><img src="img/s2.png" alt="" /></li>
                  <li><img src="img/s3.png" alt="" /></li>
                  <li><img src="img/s1.png" alt="" /></li>
                  <li><img src="img/s2.png" alt="" /></li> -->
              </ul>
            </div>
            <a class="next">&gt;</a>
          </div>
        </div>
        <!--右侧商品信息-->
        <div class="infoWrap">
          <div class="info1">
            <!-- 基本商品信息 -->
          </div>
          <div class="choose">
            <div class="chooseArea">
              <div class="choosed"></div>
            </div>
            <div class="carWrap">
              <div class="controls">
                <input type="text" value="1" />
                <a href="###" class="plus">+</a>
                <a href="###" class="mins">-</a>
              </div>
              <div class="addBtn">
                <a href="###">加入购物车</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!--商品详情页-->
    <section class="productDetail">
      <!--侧边栏-->
      <aside class="aside">
        <!--选项卡切换的按钮-->
        <div class="tabWrap">
          <h4 class="active">相关分类</h4>
          <h4>推荐品牌</h4>
        </div>
        <!--选项卡内容-->
        <div class="tabContent">
          <div class="active">
            <ul class="partList">
              <li>手机</li>
              <li>手机壳</li>
              <li>内存卡</li>
              <li>iphone配件</li>
              <li>贴膜</li>
              <li>手机耳机</li>
              <li>移动电源</li>
              <li>平板电脑</li>
            </ul>
            <ul class="goodsList">
              <li>
                <div class="gImg">
                  <img src="img/part01.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
              <li>
                <div class="gImg">
                  <img src="img/part02.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
              <li>
                <div class="gImg">
                  <img src="img/part03.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
              <li>
                <div class="gImg">
                  <img src="img/part01.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
            </ul>
          </div>
          <div>推荐品牌</div>
        </div>
      </aside>
      <div class="detail">
        <div class="fitting">
          <h4>选择搭配</h4>
          <div class="goodSuits">
            <div class="master">
              <img src="img/l-m01.png" alt="" />
              <p>¥5299</p>
              <i>+</i>
            </div>
            <ul class="suits">
              <li class="suitsItem">
                <img src="img/dp01.png" alt="" />
                <p>电脑包</p>
                <label>
                  <input type="checkbox" value="10" checked />
                  <span>10</span>
                </label>
              </li>
              <li class="suitsItem">
                <img src="img/dp02.png" alt="" />
                <p>USB</p>
                <label>
                  <!-- 默认勾选 -->
                  <input type="checkbox" value="20" checked />
                  <span>20</span>
                </label>
              </li>
              <li class="suitsItem">
                <img src="img/dp03.png" alt="" />
                <p>Feless费勒斯VR</p>
                <label>
                  <input type="checkbox" value="30" />
                  <span>30</span>
                </label>
              </li>
              <li class="suitsItem">
                <img src="img/dp04.png" alt="" />
                <p>Feless费勒斯VR</p>
                <label>
                  <input type="checkbox" value="40" />
                  <span>40</span>
                </label>
              </li>
            </ul>
            <div class="result">
              <div>已选购<span class="selected">0</span>件商品</div>
              <p class="price-tit">套餐价</p>
              <p class="price">¥5299</p>
              <button>加入购物车</button>
            </div>
          </div>
        </div>
        <div class="intro">
          <ul class="tabWrap">
            <li class="active"><a href="###">商品介绍</a></li>
            <li><a href="###">规格与包装</a></li>
            <li><a href="###">售后保障</a></li>
            <li><a href="###">商品评价</a></li>
            <li><a href="###">手机社区</a></li>
          </ul>
          <div class="tabContent">
            <div class="active">
              <ul class="goodsIntro">
                <li>分辨率：1920*1080(FHD)</li>
                <li>后置摄像头：1200万像素</li>
                <li>前置摄像头：500万像素</li>
                <li>核 数：其他</li>
                <li>频 率：以官网信息为准</li>
                <li>品牌： Apple</li>
                <li>商品名称：APPLEiPhone 6s Plus</li>
                <li>商品编号：1861098</li>
                <li>商品产地：中国大陆</li>
                <li>商品毛重：0.51kg</li>
                <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
              </ul>
              <div class="introImg">
                <img src="img/intro01.png" alt="" />
                <img src="img/intro02.png" alt="" />
                <img src="img/intro03.png" alt="" />
              </div>
            </div>
            <div>规格与包装</div>
            <div>售后保障</div>
            <div>商品评价</div>
            <div>手机社区</div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <script src="./js/data.js"></script>
  <script>
    // 等待页面加载完成后执行
    window.addEventListener('DOMContentLoaded', function () {

      initCrumbNav();
      leftNav();
      bottomNav();
      rightSide();
      rightNav();
      lnitiPeature();
      lnitiThu();
      lnitiClick();
      lnitiArrowClick();
      zoom();
      dynamicPages();
      dynamicList();
      dynamicClickList();
      buyButton();

    })
    let index = 0;  // 设置全局变量，拿到图片的地址下标；
    // 面包屑导航
    function initCrumbNav() {
      let paths = goodData.path;
      // console.log(paths);
      paths.forEach(function (navs, index) {
        let con = document.querySelector('.wrap .con .conPoin');
        let aNav = document.createElement('a');
        aNav.innerText = navs.title;
        if (index !== paths.length - 1) {
          // console.log(navs.url);
          // console.log(aNav.url);
          aNav.setAttribute('href', navs.url);
          // aNav.href = navs.url;
        }
        con.appendChild(aNav);
      })
    }

    // 左边选项卡
    function leftNav() {
      let navhs = document.querySelectorAll(
        '.wrap .productDetail .aside .tabWrap h4');
      let contents = document.querySelectorAll(
        '.wrap .productDetail .aside .tabContent > div');

      for (let i = 0; i < navhs.length; i++) {
        navhs[i].onclick = function () {
          for (let j = 0; j < navhs.length; j++) {
            navhs[j].className = '';
            contents[j].className = '';
          }
          this.className = 'active';
          contents[i].className = 'active';
        }
      }
    }

    // 下边选项卡
    function bottomNav() {
      let lis = document.querySelectorAll(
        '.wrap .productDetail .detail .intro .tabWrap li');
      let contents = document.querySelectorAll(
        '.wrap .productDetail .detail .intro .tabContent > div');
      for (let i = 0; i < lis.length; i++) {
        lis[i].onclick = function () {
          for (let j = 0; j < lis.length; j++) {
            lis[j].className = '';
            contents[j].className = '';
          }
          this.className = 'active';
          contents[i].className = 'active';
        }
      }


    }

    // 右侧侧边栏
    function rightSide() {
      let rightbut = document.querySelector('.wrap .toolBar .but');
      let rightwarp = document.querySelector('.wrap .toolBar');

      let strag = true;
      rightbut.addEventListener('click', function () {
        if (strag) {
          this.classList.replace('list', 'cross');
          rightwarp.classList.replace('toolWrap', 'toolOut');
        } else {
          this.classList.replace('cross', 'list');
          rightwarp.classList.replace('toolOut', 'toolWrap');
        }
        strag = !strag;
      })
    }

    // 右侧侧边栏导航
    function rightNav() {
      let rightlis = document.querySelectorAll('.wrap .toolBar .toolList li');
      rightlis.forEach(function (item) {
        item.onmouseenter = function () {
          let i = this.firstElementChild;
          let em = this.lastElementChild;
          i.style.backgroundColor = 'rgb(200,17,34)';
          em.style.left = '-62px';
        }
        item.onmouseleave = function () {
          let i = this.firstElementChild;
          let em = this.lastElementChild;
          i.style.backgroundColor = 'rgb(122,110,110)';
          em.style.left = '35px';
        }
      })
    }

    // 初始化小图图片
    function lnitiPeature() {
      // 获取列表中第一个小图图片地址
      let img = goodData.imgsrc[0].s;
      // console.log(img);
      // 获取小图容器
      let smallZoom = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview .zoom');
      // 创建图片标签
      let smallImg = document.createElement('img');
      // 将图片地址给小图的src
      smallImg.src = img;
      // 追加操作
      smallZoom.appendChild(smallImg);
    }

    // 初始化缩略图
    function lnitiThu() {
      // 获取所有图片地址
      let imgs = goodData.imgsrc;

      let ul = document.querySelector('.wrap .con .mainCon .previewWrap .specScroll .itemCon .list');
      // 遍历图片数组的所有项
      imgs.forEach(function (item, index) {
        // 创建li标签
        let li = document.createElement('li');
        // 创建img标签
        let img = document.createElement('img');
        // 将列表中小图地址赋给img标签
        img.src = item.s;
        // 将img标签追加到li标签里面
        li.appendChild(img);
        // 将li标签追加到ul标签里面
        ul.appendChild(li);

      })
    }

    // 单击缩略图显示小图
    function lnitiClick() {
      let lis = document.querySelectorAll(
        '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list > li');
      // 获取小图的节点对象
      let smallImg = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview .zoom img');
      // index = 0;
      // 遍历缩略图的图片，绑定单击事件
      lis.forEach(function (item, i) {
        item.onclick = function () {
          // 将缩略图的src赋给小图的src;
          smallImg.src = this.firstElementChild.src;
          index = i;
        }
      })
    }

    // 单击左右箭头移动缩略图
    function lnitiArrowClick() {
      // 获取右箭头
      let rightArrow = document.querySelector(
        '.wrap .con .mainCon .previewWrap .specScroll .next');
      // 获取左箭头
      let leftArrow = document.querySelector(
        '.wrap .con .mainCon .previewWrap .specScroll .prev');
      // 获取缩略图的第一个li
      let li = document.querySelector(
        '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list > li');
      // 获取整个缩略图的ul
      let ul = document.querySelector(
        '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list');
      // 获取缩略图的所有li
      let lis = document.querySelectorAll(
        '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list > li');
      // console.log(li);
      // console.log(window.getComputedStyle(li).marginLeft);
      // 偏移量
      let offSet = parseInt(window.getComputedStyle(li).marginRight) + li.offsetWidth;
      // console.log(offSet, li.offsetWidth);
      // 默认偏移
      let reoffSet = 0;

      // 最大偏移量
      let maxoffset = offSet * (lis.length - 5);
      // 给右箭头绑定点击事件
      rightArrow.onclick = function () {

        if (reoffSet === maxoffset) {
          return;
        }
        reoffSet += offSet;
        ul.style.left = - reoffSet + 'px';
      }
      // 给左箭头绑定单击事件
      leftArrow.onclick = function () {
        if (reoffSet === 0) {
          return;
        }
        reoffSet -= offSet;
        ul.style.left = - reoffSet + 'px';
      }

    }

    // 放大镜效果
    function zoom() {
      let zoom = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview .zoom'
      );
      let preview = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview'
      );


      let mask = null;
      let bigBox = null;
      let bigBoxImg = null;

      zoom.onmouseenter = function () {
        mask = document.createElement('div');
        mask.className = 'mask';
        zoom.appendChild(mask);
        bigBox = document.createElement('div');
        bigBox.className = 'bigBox';
        bigBoxImg = document.createElement('img');
        bigBoxImg.src = goodData.imgsrc[index].b;
        bigBox.appendChild(bigBoxImg);
        preview.appendChild(bigBox);
        // console.log(111);
        // event.stopPropagation();

      }
      zoom.onmouseleave = function () {
        preview.removeChild(bigBox);
        zoom.removeChild(mask);
        mask = null;
        bigBox = null;
        bigBoxImg = null;
        // e.stopPropagation();
        // console.log(222)

      }

      zoom.onmousemove = function (event) {

        // 小图移动距离
        let left = event.clientX - zoom.getBoundingClientRect().left - mask.offsetWidth / 2;
        // console.log(left);

        let top = event.clientY - zoom.getBoundingClientRect().top - mask.offsetHeight / 2;
        // 小图最大移动距离
        let maxLeft = zoom.clientWidth - mask.offsetWidth;
        let maxTop = zoom.clientHeight - mask.offsetHeight;
        // 限制其在小图范围内移动
        if (left > maxLeft) {
          left = maxLeft;
        } else if (left < 0) {
          left = 0;
        }
        if (top > maxTop) {
          top = maxTop;
        } else if (top < 0) {
          top = 0;
        }
        // 设置遮盖层的移动坐标
        mask.style.left = left + 'px';
        mask.style.top = top + 'px';

        // 大图的最大移动距离
        let bigBoxMaxTopMove = bigBoxImg.offsetHeight - bigBox.clientHeight;
        let bigBoxMaxLeftMove = bigBoxImg.offsetWidth - bigBox.clientWidth;
        // 大图的移动距离
        let bigBoxImgLeft = bigBoxMaxLeftMove / maxLeft * left;
        let bigBoxImgTop = bigBoxMaxTopMove / maxTop * top;
        bigBoxImg.style.top = -bigBoxImgTop + 'px';
        bigBoxImg.style.left = -bigBoxImgLeft + 'px';

        // event.stopImmediatePropagation();

      }


    }
    let selected = 0; // 选购的商品数
    // 动态渲染页面内容
    function dynamicPages() {
      let info1 = document.querySelector(
        '.wrap .con .mainCon .infoWrap .info1');
      // console.log(info1);
      let dyPage = goodData.goodsDetail;
      // console.log(dyPage);
      let dynamic = `
            <h3 class="infoName">${dyPage.title}</h3>
            <p class="news">${dyPage.recommend}</p>
            <div class="priceArea">
              <div class="priceArea1">
                <div class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</div>
                <div class="price">
                  <i>￥</i>
                  <em>${dyPage.price}</em>
                  <span>降价通知</span>
                </div>
                <div class="remark">
                  <i>累计评价</i>
                  <span>${dyPage.evaluateNum}</span>
                </div>
              </div>
              <div class="priceArea2">
                <div class="title">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</div>
                <div class="fixWidth">
                  <i>${dyPage.promoteSales.type}</i>
                  <span>${dyPage.promoteSales.content} </span>
                </div>
              </div>
            </div>
            <div class="support">
              <div>
                <div class="title">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</div>
                <div class="fixWidth">${dyPage.support}</div>
              </div>
              <div>
                <div class="title">配&nbsp;送&nbsp;至</div>
                <div class="fixWidth">${dyPage.address}</div>
              </div>
            </div>`
      info1.innerHTML = dynamic;

      let pPrice = document.querySelector(
        '.wrap .productDetail .detail .fitting .goodSuits .master p');
      pPrice.innerText = "￥" + dyPage.price;
      let origeOrice = dyPage.price;
      let lis = document.querySelectorAll(
        '.wrap .productDetail .detail .fitting .goodSuits .suits .suitsItem');
      lis.forEach(function (item) {
        let input = item.querySelector('label input');
        if (input.checked) {
          selected++;
          origeOrice += parseInt(input.value);
        }

      })
      let span = document.querySelector(
        '.wrap .productDetail .detail .fitting .goodSuits .result .selected'
      );
      span.innerText = selected;
      let rightPrice = document.querySelector(
        '.wrap .productDetail .detail .fitting .goodSuits .result .price'
      );
      rightPrice.innerText = '￥' + origeOrice;

    }

    // 动态渲染列表结构
    function dynamicList() {
      let lists = goodData.goodsDetail.crumbData;
      // console.log(lists);

      let choose = document.querySelector(
        '.wrap .con .mainCon .infoWrap .choose .chooseArea');
      // console.log(choose);
      lists.forEach(function (item) {
        let dl = document.createElement('dl');
        let dt = document.createElement('dt');
        dt.innerText = item.title;
        dl.appendChild(dt);
        let datas = item.data;
        datas.forEach(function (i) {
          let dd = document.createElement('dd');
          dd.innerText = i.type;
          dd.setAttribute('price', i.changePrice);
          dl.appendChild(dd);
        })
        // console.log(datas);
        choose.appendChild(dl);
      })
    }

    // 定义一个数组用于存贮列表信息和价格信息
    let arrContent = new Array(goodData.goodsDetail.crumbData.length);
    arrContent.fill(0);
    // console.log(arrContent);
    // 改变页面价格
    function changePrice() {
      let origPrice = goodData.goodsDetail.price;
      arrContent.forEach(function (item) {
        if (item) {
          origPrice += item.price;
        }
      })
      let price = document.querySelector(
        '.wrap .con .mainCon .infoWrap .info1 .priceArea .priceArea1 .price em');
      price.innerText = origPrice;
      let pPrice = document.querySelector(
        '.wrap .productDetail .detail .fitting .goodSuits .master p');
      pPrice.innerText = '￥' + origPrice;

      let lis = document.querySelectorAll(
        '.wrap .productDetail .detail .fitting .goodSuits .suits .suitsItem');
      lis.forEach(function (item) {
        let input = item.querySelector('label input');
        if (input.checked) {
          origPrice += parseInt(input.value);
        }

      })
      let rightPrice = document.querySelector(
        '.wrap .productDetail .detail .fitting .goodSuits .result .price'
      );
      rightPrice.innerText = '￥' + origPrice;


    }
    // 给列表绑定单击事件
    function dynamicClickList() {
      let dls = document.querySelectorAll(
        '.wrap .con .mainCon .infoWrap .choose .chooseArea dl')
      let choosed = document.querySelector(
        '.wrap .con .mainCon .infoWrap .choose .chooseArea .choosed');
      // console.log(choosed);
      // console.log(dls);
      dls.forEach(function (item, dlsIndex) {
        let dds = item.querySelectorAll('dd');
        // console.log(dds);
        dds.forEach(function (item1) {

          item1.onclick = function () {

            // 切换选项的颜色
            dds.forEach(function (item2) {
              item2.style.color = '#666';
            })
            this.style.color = 'red';

            // 删除原来的mark节点对象
            // let marks = choosed.querySelectorAll('mark');
            // // console.log(marks);
            // marks.forEach(function (markItem) {
            //   choosed.removeChild(markItem);
            // })
            choosed.innerHTML = '';
            // 增加已选项目
            // 将点击项的文字内容赋给数组相应下标项的name属性，将对应的价格给price属性；
            arrContent[dlsIndex] = { name: this.innerText, price: parseInt(this.getAttribute('price')) };
            // console.log(arrContent);

            arrContent.forEach(function (arrItem, arrIndex) {     // 遍历数组将数组中有值的项创建节点放入choosed节点对象中

              if (!arrItem) {       // 当相应项为0时退出操作
                return;
              }
              let mark = document.createElement('mark');  // 创建mark节点对象
              mark.innerText = arrItem.name;              // 将数组项内容赋给mark
              let a = document.createElement('a');        // 创建a节点对象
              a.innerText = 'x';                          // 
              a.setAttribute('dlsIndex', arrIndex);       // 给a属性创建一个属性用来记录相应的下标值
              a.style.cursor = "pointer";                 // 
              // console.log(dlsIndex);                   // 
              mark.appendChild(a);                        // 将a节点添加进mark节点
              choosed.appendChild(mark);                  // 将mark节点添加进choosed节点中
              changePrice();                              // 调用函数改变页面上的价格
            })                                            //
            //
            let marks = choosed.querySelectorAll('mark'); // 获取mark节点对象集合
            marks.forEach(function (markItem) {           // 遍历集合给里面的a节点绑定点击事件
              let aNode = markItem.querySelector('a');    // 获取mark里面的a节点对象
              // console.log(aNode);                      //
              aNode.onclick = function () {               // 给X号绑定点击事件用于删除该项
                let removeMark = this.parentNode;         // 获取点击项的父节点对象
                choosed.removeChild(removeMark);          // 从页面上删除这个节点对象
                let aNodeIndex = this.getAttribute('dlsIndex'); // 拿到点击的节点上面的下标属性
                arrContent[aNodeIndex] = 0;               // 给数组中相应的下标项的值赋为0
                // console.log(arrContent);               //

                let ddNodes = dls[aNodeIndex].querySelectorAll('dd'); // 获取对应dl下的所有dd节点对象
                ddNodes.forEach(function (ddItem) {       // 排他法，将dd颜色改回灰色
                  ddItem.style.color = '#666';
                })
                ddNodes[0].style.color = 'red';           // 给首项dd颜色该为红色
                changePrice();                            // 调用函数改变页面上的价格
              }
            })


          }
        })
      })

    }

    // 给选购按钮绑定对象

    function buyButton() {
      let lis = document.querySelectorAll(
        '.wrap .productDetail .detail .fitting .goodSuits .suits .suitsItem'
      );
      lis.forEach(function (item) {
        let input = item.querySelector('label input');
        input.onclick = function () {
          let price = parseInt(document.querySelector(
            '.wrap .productDetail .detail .fitting .goodSuits .result .price'
          ).innerText.slice(1));
          // console.log(price);
          if (this.checked) {
            selected++;
            price += parseInt(this.value);
          } else {
            selected--;
            price -= parseInt(this.value);
          }
          let num = document.querySelector(
            '.wrap .productDetail .detail .fitting .goodSuits .result .selected'
          );
          let rightPrice = document.querySelector(
            '.wrap .productDetail .detail .fitting .goodSuits .result .price'
          );
          num.innerText = selected;
          rightPrice.innerText = '￥' + price;
        }
      })
    }
  </script>
</body>

</html>